# Покращений інтерактивний просмотрщик мережі

## Огляд

Покращений інтерактивний просмотрщик мережі реалізує всі вимоги для аналізу топології інформаційно-комунікаційних систем (ІКС) з використанням критерію Бірнбаума та матриці інцидентності.

## Основні функції

### 1. Покращене відображення зв'язків
- ✅ Графічне відображення зв'язків між вузлами (ребер)
- ✅ Збереження стилю попередньої версії: кольори, товщина ліній
- ✅ Плавні анімації при hover та selection
- ✅ Кожне ребро з'єднує вершини згідно з даними словника мережі

### 2. Геометрія та позиціювання вузлів
- ✅ Виправлене позиціювання вузлів (не стоять в один ряд)
- ✅ Force-directed layout (сила відштовхування + тяжіння ребер)
- ✅ Вузли займають природні позиції
- ✅ Зменшені розміри вузлів (радіус, ширина, висота) для зручнішого сприйняття

### 3. Збереження структури мережі
- ✅ Автоматичне відображення мережі в "Інтерактивній топології"
- ✅ Збереження даних у файлі з розширенням .db у форматі Python-словника
- ✅ Автоматичне збереження після створення або редагування мережі

### 4. Матриця інцидентності
- ✅ Збереження структури мережі у вигляді матриці інцидентності
- ✅ Формат V×V з записом 1 для наявності ребра, 0 для відсутності
- ✅ Підтримка орієнтованих графів
- ✅ Збереження в окремому файлі (matrix.db або matrix.json)
- ✅ Обчислення метрик зв'язності

### 5. Критерій Бірнбаума + ймовірність з'єднання
- ✅ Ручне створення мережі користувачем
- ✅ Задання кількості вузлів, головного вузла та з'єднань
- ✅ Параметр "ймовірність з'єднання" для впливу на утворення зв'язків
- ✅ Обчислення коефіцієнта надійності за критерієм Бірнбаума
- ✅ Теорія ймовірностей для моделювання відмов
- ✅ Тестування "відкритих" і "закритих" сценаріїв відмов

### 6. Загальні вимоги
- ✅ Збереження поточного функціоналу "Інтерактивної топології"
- ✅ Модульний код з окремими функціями
- ✅ Побудова візуалізації
- ✅ Обробка подій користувача (hover, drag, select)
- ✅ Збереження/завантаження даних (.db)
- ✅ Формування матриці інцидентності
- ✅ Розрахунок метрик надійності (критерій Бірнбаума)

## Структура файлів

```
src/
├── gui/
│   └── enhanced_interactive_network_viewer.py  # Покращений просмотрщик
├── utils/
│   └── incidence_matrix.py                     # Робота з матрицею інцидентності
├── analytics/
│   └── birnbaum_reliability.py                # Критерій Бірнбаума
└── scripts/
    └── demos/
        └── demo_enhanced_network_viewer.py    # Демонстрація
```

## Використання

### Запуск демонстрації
```bash
python scripts/demos/demo_enhanced_network_viewer.py
```

### Програмне використання
```python
from src.gui.enhanced_interactive_network_viewer import EnhancedInteractiveNetworkViewer
from src.utils.incidence_matrix import IncidenceMatrixManager
from src.analytics.birnbaum_reliability import BirnbaumReliabilityAnalyzer

# Створення просмотрщика
viewer = EnhancedInteractiveNetworkViewer(parent_window)

# Робота з матрицею інцидентності
matrix_manager = IncidenceMatrixManager()
matrix = matrix_manager.create_matrix_from_network(network_dict)
matrix_manager.save_matrix()

# Аналіз надійності
analyzer = BirnbaumReliabilityAnalyzer(network_dict, main_node)
report = analyzer.generate_reliability_report()
```

## Критерій Бірнбаума

Критерій Бірнбаума використовується для оцінки надійності мережі:

- **Формула**: `1 - (кількість_видалених_ребер / загальна_кількість_ребер)`
- **Діапазон**: 0.0 (критична відмова) - 1.0 (повна надійність)
- **Сценарії відмов**: Випадкове та цілеспрямоване руйнування зв'язків

### Приклад розрахунку
Для мережі з 10 вузлів:
- Видалення 1 зв'язку → коефіцієнт 9/10 = 0.9
- Видалення 2 зв'язків → коефіцієнт 8/10 = 0.8
- Видалення всіх зв'язків від головного вузла → коефіцієнт 0/10 = 0.0

## Матриця інцидентності

Матриця інцидентності представляє структуру мережі у вигляді матриці V×V:

```
    a  b  c  d
a   0  1  1  0
b   0  0  1  1
c   0  0  0  1
d   0  0  0  0
```

- Рядок відповідає вузлу, з якого йде ребро
- Стовпець відповідає вузлу, в який входить ребро
- 1 означає наявність ребра, 0 - відсутність

## Метрики зв'язності

Система обчислює наступні метрики:
- **Загальна кількість ребер**
- **Щільність мережі** (відношення фактичних ребер до максимально можливих)
- **Середня ступінь вузлів** (вхідна та вихідна)
- **Максимальна ступінь вузлів**

## Технічні деталі

### Force-directed Layout
- Використовується алгоритм `spring_layout` з NetworkX
- Параметри: `k=2, iterations=100, seed=42`
- Забезпечує природне розташування вузлів

### Збереження даних
- **Формат**: Python shelve (.db файли)
- **Автоматичне збереження**: Після кожного створення/редагування
- **Матриця інцидентності**: Окремий файл з суфіксом `_matrix.db`

### Обробка подій
- **Hover**: Підсвічування вузлів та ребер
- **Drag**: Переміщення вузлів мишею
- **Select**: Вибір вузлів для аналізу

## Вимоги до системи

- Python 3.8+
- tkinter
- matplotlib
- networkx
- numpy

## Встановлення

```bash
pip install -r requirements.txt
```

## Ліцензія

Проект розроблено в рамках дипломної роботи з аналізу ІКС.

