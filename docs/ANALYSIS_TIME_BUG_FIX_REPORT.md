# –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –û–®–ò–ë–ö–ò ANALYSIS_TIME

## üêõ –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –û–®–ò–ë–ö–ê

**–û—à–∏–±–∫–∞:** `name 'analysis_time' is not defined`

**–°–æ–æ–±—â–µ–Ω–∏–µ:** `–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Ç—å: name 'analysis_time' is not defined`

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å–µ—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ –∞–Ω–∞–ª–∏–∑–∞.

---

## üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `analysis_time` –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ –º–µ—Ç–æ–¥–µ `_create_network()`, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –≤ –º–µ—Ç–æ–¥–µ `_save_network_dialog()`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏–º–µ–ª –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

### –ú–µ—Å—Ç–æ –æ—à–∏–±–∫–∏:
```python
# –í –º–µ—Ç–æ–¥–µ _create_network()
analysis_time = self.analysis_time_var.get()

# –í –º–µ—Ç–æ–¥–µ _save_network_dialog()
self.result = {
    'action': 'created', 
    'network': network, 
    'network_id': network_id,
    'analysis_time': analysis_time  # ‚Üê –û–®–ò–ë–ö–ê: analysis_time –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏:
- `analysis_time` –±—ã–ª –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ `_create_network()`
- `_save_network_dialog()` –Ω–µ –∏–º–µ–ª –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `NameError: name 'analysis_time' is not defined`

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**–§–∞–π–ª:** `src/gui/network_dialog.py`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥–µ `_create_network()`:**
```python
# –ë—ã–ª–æ:
self._save_network_dialog(network)

# –°—Ç–∞–ª–æ:
self._save_network_dialog(network, analysis_time)
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `_save_network_dialog()`:**
```python
# –ë—ã–ª–æ:
def _save_network_dialog(self, network: NetworkModel):

# –°—Ç–∞–ª–æ:
def _save_network_dialog(self, network: NetworkModel, analysis_time: int = 300):
```

### 3. –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

**–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- `analysis_time: int = 300` - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –º–µ—Ç–æ–¥–∞ –¥–∞–∂–µ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:
```bash
python scripts/test_analysis_time_fix.py
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
–ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –û–®–ò–ë–ö–ò ANALYSIS_TIME
============================================================
=== –¢–ï–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –û–®–ò–ë–ö–ò ANALYSIS_TIME ===
+ –ü–æ–ª–µ –≤—Ä–µ–º–µ–Ω–∏ –∞–Ω–∞–ª–∏–∑–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: 600 —Å–µ–∫—É–Ω–¥
+ –ú–µ—Ç–æ–¥ _save_network_dialog –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä analysis_time
+ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ analysis_time —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

=== –¢–ï–°–¢ –°–û–ó–î–ê–ù–ò–Ø –°–ï–¢–ò –° –í–†–ï–ú–ï–ù–ï–ú ===
+ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
  - –£–∑–ª—ã: 8
  - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: 0.4
  - –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞: 900 —Å–µ–∫
+ –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

============================================================
–†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø: 2/2 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
–í–°–ï –¢–ï–°–¢–´ –ü–†–û–®–õ–ò –£–°–ü–ï–®–ù–û!
–û—à–∏–±–∫–∞ analysis_time –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –°—Ç–∞—Ç—É—Å: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- **`src/gui/network_dialog.py`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `analysis_time`

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
1. **`_create_network()`** - –ø–µ—Ä–µ–¥–∞–µ—Ç `analysis_time` –≤ –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
2. **`_save_network_dialog()`** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `analysis_time` –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä

### –¢–∏–ø –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤
- **–£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –û—à–∏–±–∫–∞ `name 'analysis_time' is not defined`
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏
- ‚ùå –ü–∞–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Ç–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## üöÄ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### –§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç:
1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Ç–∏** - —Å–µ—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∞–Ω–∞–ª–∏–∑–∞
3. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ç–∏** - –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. **–°–∏–º—É–ª—è—Ü–∏—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –≤—Ä–µ–º–µ–Ω–µ–º** - —Å–∏–º—É–ª—è—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Ç—å** —á–µ—Ä–µ–∑ "–°–æ–∑–¥–∞—Ç—å —Å–µ—Ç—å"
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞** –≤ –ø–æ–ª–µ "–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ (—Å–µ–∫)"
3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ—Ç—å** —Å –∏–º–µ–Ω–µ–º
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é** - –æ–Ω–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞:
- ‚úÖ **–û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞** - `analysis_time` —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω—É–∂–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ª—É—á—à–µ–Ω–∞** - —á–µ—Ç–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ** - –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

### –ö–∞—á–µ—Å—Ç–≤–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**üéâ –û–®–ò–ë–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–ê!**

**–°–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.**

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** $(date)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
