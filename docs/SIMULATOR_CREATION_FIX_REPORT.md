# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–ø—É—Å–∫" —Å–∏–º—É–ª—è—Ü–∏–∏, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É:
```
–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å"
```

**–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∏ —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ `NetworkDialog`, —Å–∏–º—É–ª—è—Ç–æ—Ä –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ú–µ—Ç–æ–¥ `start_simulation()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `self.simulator`, –Ω–æ –æ–Ω –Ω–µ –±—ã–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω.

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É" ‚Üí `_create_network()`
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `NetworkDialog` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∏
3. –°–µ—Ç—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `SystemModel`
4. **–ü–†–û–ë–õ–ï–ú–ê**: –°–∏–º—É–ª—è—Ç–æ—Ä –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–ø—É—Å–∫" ‚Üí `start_simulation()`
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ `if hasattr(self, 'simulator') and self.simulator:` ‚Üí `False`
7. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å"

### –ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```python
def start_simulation(self):
    """–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏–º—É–ª—è—Ü–∏—é"""
    if hasattr(self, 'simulator') and self.simulator:
        # –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
    else:
        messagebox.showwarning("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ", "–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å")
```

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

**–ù–æ–≤—ã–π –º–µ—Ç–æ–¥**: `_create_simulator_for_network(self, network)`

```python
def _create_simulator_for_network(self, network):
    """–°–æ–∑–¥–∞–µ—Ç —Å–∏–º—É–ª—è—Ç–æ—Ä –¥–ª—è —Å–µ—Ç–∏"""
    try:
        # –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∏–º—É–ª—è—Ü–∏–∏
        from ..simulator.network_simulator import SimulationConfig
        
        config = SimulationConfig(
            duration=300.0,  # 5 –º–∏–Ω—É—Ç
            time_step=0.5,
            enable_traffic=True,
            enable_failures=True,
            enable_adverse_conditions=True
        )
        
        # –°–æ–∑–¥–∞–µ–º —Å–∏–º—É–ª—è—Ç–æ—Ä
        self.simulator = NetworkSimulator(config)
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏–º—É–ª—è—Ç–æ—Ä —Å —Å–µ—Ç—å—é
        node_count = len(network.nodes)
        connection_prob = len(network.links) / (node_count * (node_count - 1) / 2) if node_count > 1 else 0
        
        self.simulator.initialize_network(node_count, connection_prob)
        
        # –î–æ–±–∞–≤–ª—è–µ–º callback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
        self.simulator.add_update_callback(self._update_plots)
        
        print(f"[INFO] –°–∏–º—É–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å–µ—Ç–∏ —Å {node_count} —É–∑–ª–∞–º–∏")
        
    except Exception as e:
        print(f"[ERROR] –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞: {e}")
        # –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ç–∏
        try:
            config = SimulationConfig(duration=300.0, time_step=0.5)
            self.simulator = NetworkSimulator(config)
            print("[INFO] –ë–∞–∑–æ–≤—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω")
        except Exception as e2:
            print(f"[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –¥–∞–∂–µ –±–∞–∑–æ–≤—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä: {e2}")
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ç–µ–π

**–í –º–µ—Ç–æ–¥–µ `_create_network()`**:
```python
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ —Å–µ—Ç–∏
self.network_viewer.update_network(network)

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –¥–ª—è –Ω–æ–≤–æ–π —Å–µ—Ç–∏
self._create_simulator_for_network(network)

messagebox.showinfo("–£—Å–ø–µ—Ö", f"–°–æ–∑–¥–∞–Ω–∞ —Å–µ—Ç—å —Å {len(network.nodes)} —É–∑–ª–∞–º–∏ –∏ {len(network.links)} —Å–≤—è–∑—è–º–∏")
```

**–í –º–µ—Ç–æ–¥–µ `_load_network()`**:
```python
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ —Å–µ—Ç–∏
self.network_viewer.update_network(network)

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Å–µ—Ç–∏
self._create_simulator_for_network(network)

messagebox.showinfo("–£—Å–ø–µ—Ö", f"–ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å–µ—Ç—å: {network.name}")
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
```
============================================================
–¢–ï–°–¢ –°–û–ó–î–ê–ù–ò–Ø –°–ò–ú–£–õ–Ø–¢–û–†–ê
============================================================
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞...
[OK] MainWindow —Å–æ–∑–¥–∞–Ω
[OK] –°–∏–º—É–ª—è—Ç–æ—Ä –Ω–µ —Å–æ–∑–¥–∞–Ω –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–∂–∏–¥–∞–µ–º–æ)
[OK] –¢–µ—Å—Ç–æ–≤–∞—è —Å–µ—Ç—å —Å–æ–∑–¥–∞–Ω–∞: 3 —É–∑–ª–∞, 1 —Å–≤—è–∑—å
[INFO] –°–∏–º—É–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å–µ—Ç–∏ —Å 3 —É–∑–ª–∞–º–∏
[OK] –°–∏–º—É–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ
[OK] –°–∏–º—É–ª—è—Ç–æ—Ä –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ start_simulation
[OK] –°–∏–º—É–ª—è—Ç–æ—Ä –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç is_running

============================================================
–†–ï–ó–£–õ–¨–¢–ê–¢ –¢–ï–°–¢–ê
============================================================
[SUCCESS] –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

–†–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- [OK] –°–æ–∑–¥–∞–Ω–∏–µ MainWindow
- [OK] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏
- [OK] –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –¥–ª—è —Å–µ—Ç–∏
- [OK] –ú–µ—Ç–æ–¥—ã —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
```

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### `src/gui/main_window.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_create_simulator_for_network()`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤—ã–∑–æ–≤ –≤ `_create_network()`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤—ã–∑–æ–≤ –≤ `_load_network()`

## –ù–æ–≤—ã–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É" ‚Üí `_create_network()`
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `NetworkDialog` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∏
3. –°–µ—Ç—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `SystemModel`
4. **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –°–æ–∑–¥–∞–µ—Ç—Å—è —Å–∏–º—É–ª—è—Ç–æ—Ä ‚Üí `_create_simulator_for_network(network)`
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–ø—É—Å–∫" ‚Üí `start_simulation()`
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ `if hasattr(self, 'simulator') and self.simulator:` ‚Üí `True`
7. –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–∏–º—É–ª—è—Ç–æ—Ä
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ç–∏** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–∏–º—É–ª—è—Ç–æ—Ä  
- ‚úÖ **–ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏** ‚Üí —Å–∏–º—É–ª—è—Ç–æ—Ä —É–∂–µ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
- ‚úÖ **Callback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤** ‚Üí —Å–∏–º—É–ª—è—Ç–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å GUI

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞:
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)
- **–®–∞–≥ –≤—Ä–µ–º–µ–Ω–∏**: 0.5 —Å–µ–∫—É–Ω–¥—ã
- **–¢—Ä–∞—Ñ–∏–∫**: –≤–∫–ª—é—á–µ–Ω
- **–û—Ç–∫–∞–∑—ã**: –≤–∫–ª—é—á–µ–Ω—ã
- **–ù–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è**: –≤–∫–ª—é—á–µ–Ω—ã

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ "–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ç–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ —Å GUI

### üöÄ –£–ª—É—á—à–µ–Ω–∏—è:
- –ü–ª–∞–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –ø–æ–¥ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å–µ—Ç—å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å fallback –Ω–∞ –±–∞–∑–æ–≤—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ç—å —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Ç—å
3. –ù–∞–∂–∞—Ç—å "–ó–∞–ø—É—Å–∫" –∏ —Å–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫!

üéâ **–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

